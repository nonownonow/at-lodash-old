{"version":3,"sources":["at.coffee"],"names":[],"mappings":"AAAA,IAAA;;AAAA,CAAA,GAAI,OAAA,CAAQ,QAAR;;AAEJ,IAAC,CAAA,SAAD,GAAa,CAAC,SAAA,GAAA,CAAD;;AACb,SAAA,iEAAsD,CAAA,CAAA;;AACtD,aAAA,GAAc,CACX,cADW,EAEX,WAFW,EAGR,SAAD,GAAW,OAHF,CAKd,CAAC,OALa,CAKL,CAAA,SAAA,KAAA;SAAA,SAAC,CAAD;AAAM;aAAI,MAAM,CAAC,MAAP,CAAc,KAAC,CAAA,SAAf,EAA0B,OAAA,CAAQ,CAAR,CAA1B,EAAJ;KAAA;EAAN;AAAA,CAAA,CAAA,CAAA,IAAA,CALK;;AAOd,IAAA,GAAO,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAA3B,CAAgC,IAAhC;;AACP,CAAC,CAAC,MAAF,CAAS,IAAT,EAAe,MAAM,CAAC,MAAM,CAAC,OAA7B;;AACA,CAAC,CAAC,IAAF,CAAO,OAAO,CAAC,KAAf,EAAsB,SAAC,CAAD,EAAI,CAAJ,EAAO,KAAP;EACnB,IAAmB,oBAAoB,CAAC,IAArB,CAA0B,CAA1B,CAAnB;WAAA,OAAO,KAAM,CAAA,CAAA,EAAb;;AADmB,CAAtB;;AAEA,IAAA,GAAO,OAAA,CAAQ,MAAR;;AACP,IAAC,CAAA,CAAD,GAAK,OAAA,CAAQ,SAAR;;AAEL,IAAC,CAAA,GAAD,GAAO,OAAA,CAAQ,QAAR,CAAiB,CAAC,OAAlB,CACJ;EAAA,MAAA,EAAQ,yCAAR;EACA,UAAA,EAAY,YADZ;EAEA,UAAA,EACG;IAAA,KAAA,EAAO,EAAP;GAHH;CADI;;AAMP,IAAA,CAAO,OAAO,CAAC,MAAM,CAAC,UAAtB;EACG,OAAO,CAAC,MAAM,CAAC,UAAf,GAA4B,CAAC,OAAO,CAAC,MAAM,CAAC;EAC5C,OAAO,CAAC,MAAM,CAAC,EAAf,GAAoB,GAFvB;;;AAGA,IAAC,CAAA,CAAD,GAAK,OAAO,CAAC,MAAM,CAAC;;AAEpB,IAAC,CAAA,UAAD,GAAc,CAAC,IAAI,CAAC,QAAL,CAAc,MAAM,CAAC,MAAM,CAAC,EAA5B,CAAD,CAAgC,CAAC,OAAjC,CAAyC,kBAAzC,EAA6D,EAA7D;;AAId,IAAC,CAAA,UAAD,GAAc,SAAC,MAAD,EAAS,MAAT;SACX,CAAC,CAAC,IAAF,CAAO,MAAP,EAAe,SAAC,CAAD,EAAI,CAAJ;IACZ,IAAG,CAAA,IAAK,MAAR;AACG,YAAM,6BAAA,GAA8B,EADvC;;WAEA,MAAO,CAAA,CAAA,CAAP,GAAY,MAAO,CAAA,CAAA;EAHP,CAAf;AADW;;;MAOL,CAAE,IAAX,CAAgB,IAAhB;;;AACA,KAAA,GAAQ,IAAI,CAAC,WAAL,KAAsB,MAAM,CAAC,MAAM,CAAC;;AAC5C,IAAoB,KAApB;EAAA,IAAI,CAAC,OAAL,GAAe,KAAf;;;AAEA,MAAM,CAAC,MAAM,CAAC,OAAd,GAAwB;;AACxB,MAAM,CAAC,OAAP,GAAiB,SAAA,GAAA","file":"at.js","sourceRoot":"../../src","sourcesContent":["_ = require 'lodash'\n\n@__proto__ = (->)\nparentDir = module.parent.filename.match(/(.+)\\/.+/)?[1]\nrequire_files=[\n   \"./at_require\"\n   \"./at_load\"\n   \"#{parentDir}/load\"\n]\n.forEach (v)=> try Object.assign @__proto__, require v\n\nmain = module.parent.exports.main.bind @\n_.assign main, module.parent.exports\n_.each require.cache, (v, k, cache)->\n   delete cache[k] if /at[.](?:js|coffee)/.test k\npath = require 'path'\n@r = require 'xregexp'\n\n@log = require('tracer').console\n   format: \"{{message}} {{file}}:{{line}} {{title}}\",\n   dateformat: \"HH:MM:ss.L\"\n   inspectOpt:\n      depth: 12\n\nunless process.config.isLoadedAT\n   process.config.isLoadedAT = !process.config.isLoadedAT\n   process.config.at = {}\n@G = process.config.at\n\n@moduleName = (path.basename module.parent.id).replace(/[.](?:js|coffee)/, '')\n#@set process.config,'at',{}\n# when parent is 'mocha', exclude context\n\n@setAliases = (target, source)->\n   _.each source, (v, k)->\n      if v of target\n         throw \"target should not have key:#{v}\"\n      target[v] = target[k]\n#         throw new Error 'err'\n\nmain.supp?.call @\nisTDD = main.startModule isnt module.parent.filename\nmain.context = @ if isTDD\n\nmodule.parent.exports = main\nmodule.exports = ->\n\n\n"]}